<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>All the Places</title>
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!--
NOT NEEDED - REMOVE THESE
Wrong: These 3 scripts prevent 404 error when loadMarkdown called before d3.v5.min.js available.
With revisions in localsite.js we should be able to avoid including these here.
Error does not occur on localhost. TO DO: test removing with a copy of this page.
-->
<script type="text/javascript" src="../../../localsite/js/jquery.min.js" id="/localsite/js/jquery.min.js"></script>
<script type="text/javascript" src="../../../localsite/js/d3.v5.min.js" id="/localsite/js/d3.v5.min.js"></script>
<script type="text/javascript" src="../../../localsite/js/showdown.min.js" id="/localsite/js/showdown.min.js"></script>

<script type="text/javascript" src="https://model.earth/localsite/js/localsite.js?showheader=true&showsearch=true"></script>

<script>
loadMarkdown("projects.md", "projectsDiv");
loadMarkdown("README.md", "readmeDiv");
loadMarkdown("index.md", "indexDiv"); // Might not work with top "layout: default" 3 lines

waitForElm('#readmeDiv h1').then((elm) => {
  $('#readmeDiv').html($('#readmeDiv').html().replace('<h1 id="alltheplacesxyz">alltheplaces.xyz</h1>','<h1>All the Places</h1>'));
  $('#readmeDiv').html($('#readmeDiv').html().replace('The website for All The Places. Site is live on https://www.alltheplaces.xyz/','A growing set of web scrapers designed to output consistent geodata about as many places of business in the world as possible. The most recent updates reside at <a href="https://alltheplaces.xyz" target="atp">alltheplaces.xyz</a>.'));
  $('#readmeDiv').html($('#readmeDiv').html().replace('<p>This repository contains static resources only.</p>',''));
});

waitForElm('#indexDiv iframe').then((elm) => { // Wait for an element to tell us loadMarkdown has finished
  $('#indexDiv').html($('#indexDiv').html().replace('{% raw %}','').replace('{% endraw %}',''));
});
//$(document).ready(function () {
waitForElm('#headerbar').then((elm) => {
  $(".showOnLoad").show();
});
</script>

<style>
img {
  max-width: 400px;
}
#indexDiv iframe {
  min-height: 50px !important;
  max-height: 50px !important;
}
</style>
</head>

<body>

<div class="content contentpadding" style="max-width: 800px;">
  
  <div class="showOnLoad" style="display:none;">
    <div id="projectsDiv"></div>
    <div id="readmeDiv"></div>
    <div id="indexDiv"></div>
  </div>
</div>

</body>
</html>